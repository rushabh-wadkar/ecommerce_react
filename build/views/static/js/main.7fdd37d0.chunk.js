(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(t,c,e){t.exports={wrap:"ProductList_wrap__2BQuB",columns_3:"ProductList_columns_3__2ficG",columns:"ProductList_columns__14GYz",brand:"ProductList_brand__3gTp5",price:"ProductList_price__wIyNu",discount_price:"ProductList_discount_price__1_3QY",discount_percent:"ProductList_discount_percent__1Dthw"}},13:function(t,c,e){t.exports={backBtn:"Backbutton_backBtn__1XCnQ",line:"Backbutton_line__Wgvg6",tLine:"Backbutton_tLine__3L3Ic",mLine:"Backbutton_mLine__2xygo",bLine:"Backbutton_bLine__1l0k1",label:"Backbutton_label__vIKLI"}},15:function(t,c,e){t.exports={price:"ProductItem_price__3kW7K",wrapper:"ProductItem_wrapper__2VfxS",columns:"ProductItem_columns__Au1Ly",details:"ProductItem_details__2beWv","thumbnail-container":"ProductItem_thumbnail-container__2jY9O","wishlist-container":"ProductItem_wishlist-container__-cnwT",header:"ProductItem_header__2siIx",button:"ProductItem_button__3blV1",select:"ProductItem_select__29WNI","buy-container":"ProductItem_buy-container__1PGfJ","small-text":"ProductItem_small-text__2M6yx","buy-button":"ProductItem_buy-button__1-x0T"}},171:function(t,c,e){"use strict";e.r(c);var n=e(0),r=e.n(n),a=e(8),s=e.n(a),i=(e(77),e(22)),o=e.n(i),u=e(14),d=e(29),l=e.n(d),j="FETCH_PRODUCTS_REQUEST",_="FETCH_PRODUCTS_SUCCESS",b="FETCH_PRODUCTS_FAILURE",p=function(){return{type:j}},h=function(t){return{type:_,payload:t}},x=function(t){return{type:b,payload:t}},O=function(t){return function(c){var e="/api/products";t&&(e+="?sort="+t),c(p()),l.a.get(e).then((function(t){var e=t.data;c(h(e))})).catch((function(t){c(x(t.message))}))}},m=e(65),f=e.n(m),v=e(1),g=function(t){var c=t.fetchProducts,e=t.searchProduct;return Object(v.jsxs)("nav",{className:o.a.product_filter,children:[Object(v.jsx)("h1",{children:"Products"}),Object(v.jsxs)("div",{className:o.a.sort,children:[Object(v.jsxs)("div",{className:o.a.collection_sort,children:[Object(v.jsx)("label",{children:"Search"}),Object(v.jsx)("input",{type:"text",onChange:f.a.debounce((function(t){t.persist();var c=t.target.value;e(c)}),300),placeholder:"Search Product"})]}),Object(v.jsxs)("div",{className:o.a.collection_sort,children:[Object(v.jsx)("label",{children:"Sort by:"}),Object(v.jsxs)("select",{defaultValue:"",onChange:function(t){c(t.target.value)},children:[Object(v.jsx)("option",{value:""}),Object(v.jsx)("option",{value:"ASC",children:"Price, low to high"}),Object(v.jsx)("option",{value:"DESC",children:"Price, high to low"})]})]})]})]})},P=r.a.memo(g),N=Object(u.b)(null,(function(t){return{fetchProducts:function(c){return t(O(c))},searchProduct:function(c){return t((e=c,function(t){var c="/api/products";e&&(c+="?search="+e),t(p()),l.a.get(c).then((function(c){var e=c.data;t(h(e))})).catch((function(c){t(x(c.message))}))}));var e}}}))(P),y=e(12),L=e.n(y),I=e(19),w=function(t){var c=t.data,e=c.retail_price&&c.discounted_price?Math.ceil(c.discounted_price/c.retail_price*100)+"% off":"",n=c.retail_price?"\u20b9 ".concat(c.retail_price):"",r=c.brand?c.brand:"-";return Object(v.jsx)(I.b,{to:"/product/".concat(c.uniq_id),children:Object(v.jsxs)("figure",{children:[Object(v.jsx)("img",{alt:"Showing Product: ".concat(c.product_name),src:c.image[0]}),Object(v.jsx)("span",{className:L.a.brand,children:r}),Object(v.jsx)("figcaption",{children:c.product_name}),Object(v.jsx)("span",{className:L.a.price,children:n}),Object(v.jsxs)("span",{className:L.a.discount_price,children:["\u20b9\xa0",c.discounted_price]}),Object(v.jsx)("span",{className:L.a.discount_percent,children:e})]})})},S=e(27),k=e.n(S),C=Object(u.b)((function(t){return{productsData:t.product_list}}),(function(t){return{fetchProducts:function(){return t(O())}}}))((function(t){var c=t.productsData,e=t.fetchProducts;return Object(n.useEffect)((function(){e()}),[e]),c.loading?Object(v.jsx)("div",{className:"loading_bar",children:Object(v.jsx)(k.a,{type:"bars",color:"grey"})}):c.error?Object(v.jsx)("h2",{children:c.error}):Object(v.jsxs)("div",{className:L.a.wrap,children:[Object(v.jsxs)("span",{style:{fontSize:"0.6rem"},children:["Showing ",c.products.length," products"]}),Object(v.jsx)("div",{className:L.a.columns_3,id:L.a.columns,children:c.products.map((function(t){return Object(v.jsx)(w,{data:t},t._id)}))})]})})),B=e(15),E=e.n(B),T=e(13),D=e.n(T),R=e(4),U=e(67),F=Object(u.b)((function(t){return{product:t.product_list}}),(function(t){return{getProduct:function(c){return t((e=c,function(t){var c="/api/product/"+e;t(p()),l.a.get(c).then((function(c){var e=c.data;t(h(e))})).catch((function(c){t(x(c.message))}))}));var e}}}))((function(t){var c=t.getProduct,e=t.product,r=Object(R.g)().id,a=Object(R.f)();if(Object(n.useEffect)((function(){c(r)}),[c,r]),e.loading)return Object(v.jsx)("div",{className:"loading_bar",children:Object(v.jsx)(k.a,{type:"bars",color:"grey"})});if(e.error)return Object(v.jsx)("h2",{children:e.error});var s=e.products[0];if(!s)return Object(v.jsx)("h3",{children:"No Product"});console.log(s);var i=s.image.map((function(t){return{source:t}}));return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:D.a.backBtn,onClick:function(){a.push("/")},children:[Object(v.jsx)("span",{className:"".concat(D.a.line," ").concat(D.a.tLine)}),Object(v.jsx)("span",{className:"".concat(D.a.line," ").concat(D.a.mLine)}),Object(v.jsx)("span",{className:D.a.label,children:"Back"}),Object(v.jsx)("span",{className:"".concat(D.a.line," ").concat(D.a.bLine)})]}),Object(v.jsxs)("div",{className:E.a.columns,children:[Object(v.jsx)("div",{className:E.a.column,children:Object(v.jsx)("div",{className:E.a["thumbnail-container"],children:Object(v.jsx)(U.a,{views:i})})}),Object(v.jsx)("div",{className:E.a.column,children:Object(v.jsxs)("div",{className:"detail",children:[Object(v.jsx)("h1",{children:s.product_name}),Object(v.jsxs)("p",{className:E.a.price,children:[Object(v.jsxs)("span",{children:["\u20b9 ",s.retail_price]}),Object(v.jsxs)("span",{style:{marginLeft:"10px",textDecoration:"line-through"},children:["\u20b9 ",s.discounted_price]})]}),Object(v.jsx)("p",{className:E.a.description,children:s.description})]})})]})]})})),Q=e(21),V=e(66),W=e(43),A={loading:!1,products:[],error:""},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case j:return Object(W.a)(Object(W.a)({},t),{},{loading:!0});case _:return{loading:!1,products:c.payload,error:""};case b:return{loading:!1,products:[],error:c.payload};default:return t}},H=Object(Q.b)({product_list:G}),J=Object(Q.c)(H,Object(Q.a)(V.a)),Y=function(){return Object(v.jsx)(I.a,{children:Object(v.jsx)(R.c,{children:Object(v.jsxs)(u.a,{store:J,children:[Object(v.jsxs)(R.a,{path:"/",exact:!0,children:[Object(v.jsx)(N,{})," ",Object(v.jsx)(C,{})]}),Object(v.jsx)(R.a,{path:"/product/:id",exact:!0,children:Object(v.jsx)(F,{})})]})})})};s.a.render(Object(v.jsx)(Y,{}),document.getElementById("root"))},22:function(t,c,e){t.exports={product_filter:"Navbar_product_filter__3VNun",sort:"Navbar_sort__wd2E3",collection_sort:"Navbar_collection_sort__3jRTD"}},77:function(t,c,e){}},[[171,1,2]]]);
//# sourceMappingURL=main.7fdd37d0.chunk.js.map